{"ast":null,"code":"import _defineProperty from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Loader from\"react-loader-spinner\";import{API}from'../../constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignInForm=/*#__PURE__*/function(_React$Component){_inherits(SignInForm,_React$Component);var _super=_createSuper(SignInForm);function SignInForm(props){var _this;_classCallCheck(this,SignInForm);_this=_super.call(this,props);_this.state={name:'',serverError:false,nameError:false,loading:false};_this.handelSubmit=_this.handelSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.checkAuth=_this.checkAuth.bind(_assertThisInitialized(_this));return _this;}_createClass(SignInForm,[{key:\"checkAuth\",value:function checkAuth(){var _this2=this;axios({method:'POST',baseURL:API+'signin',data:{name:this.state.name}}).then(function(data){if(data.status===203){_this2.setState({nameError:true,loading:false});}else{_this2.setState({loading:false});_this2.props.logIn(data.headers.authorization,_this2.state.name,data.data);}}).catch(function(err){_this2.setState({serverError:true,loading:false});console.log(err);});}},{key:\"handelSubmit\",value:function handelSubmit(event){event.preventDefault();this.setState({loading:true});this.checkAuth();}},{key:\"handleChange\",value:function handleChange(event){var _this$setState;this.setState((_this$setState={},_defineProperty(_this$setState,event.target.name,event.target.value),_defineProperty(_this$setState,\"nameError\",false),_defineProperty(_this$setState,\"serverError\",false),_this$setState));}},{key:\"render\",value:function render(){if(this.state.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:/*#__PURE__*/_jsx(Loader,{type:\"TailSpin\",color:\"#00BFFF\",height:80,width:80})});}else{return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handelSubmit,children:[this.state.nameError?/*#__PURE__*/_jsxs(\"p\",{children:[\"\\\"\",this.state.name,\"\\\" does not match list of invites, Please try again\"]}):null,this.state.serverError?/*#__PURE__*/_jsx(\"p\",{children:\"Server may be down!! Please try again later.\"}):null,/*#__PURE__*/_jsx(\"input\",{placeholder:\"name\",name:\"name\",type:\"text\",value:this.state.name,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"signInButton\",type:\"submit\",value:\"submit\",children:\"Join\"})]});}}}]);return SignInForm;}(React.Component);export default SignInForm;","map":{"version":3,"sources":["/home/paul/Repos/WedSite/wedsite/src/components/SignIn/SignInForm.js"],"names":["React","axios","Loader","API","SignInForm","props","state","name","serverError","nameError","loading","handelSubmit","bind","handleChange","checkAuth","method","baseURL","data","then","status","setState","logIn","headers","authorization","catch","err","console","log","event","preventDefault","target","value","Component"],"mappings":"orBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,GAAT,KAAoB,iBAApB,C,2FAEMC,CAAAA,U,oHACJ,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAEXC,WAAW,CAAE,KAFF,CAGXC,SAAS,CAAE,KAHA,CAIXC,OAAO,CAAE,KAJE,CAAb,CAOA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CACA,MAAKE,SAAL,CAAiB,MAAKA,SAAL,CAAeF,IAAf,+BAAjB,CAXiB,aAYlB,C,gDAED,oBAAY,iBACVX,KAAK,CAAC,CACJc,MAAM,CAAE,MADJ,CAEJC,OAAO,CAAEb,GAAG,CAAG,QAFX,CAGJc,IAAI,CAAE,CACJV,IAAI,CAAE,KAAKD,KAAL,CAAWC,IADb,CAHF,CAAD,CAAL,CAMGW,IANH,CAMQ,SAACD,IAAD,CAAU,CAChB,GAAIA,IAAI,CAACE,MAAL,GAAgB,GAApB,CAAyB,CACvB,MAAI,CAACC,QAAL,CAAc,CACZX,SAAS,CAAE,IADC,CAEZC,OAAO,CAAE,KAFG,CAAd,EAID,CALD,IAKO,CACL,MAAI,CAACU,QAAL,CAAc,CACZV,OAAO,CAAE,KADG,CAAd,EAGA,MAAI,CAACL,KAAL,CAAWgB,KAAX,CAAiBJ,IAAI,CAACK,OAAL,CAAaC,aAA9B,CAA6C,MAAI,CAACjB,KAAL,CAAWC,IAAxD,CAA8DU,IAAI,CAACA,IAAnE,EACD,CACF,CAlBD,EAkBGO,KAlBH,CAkBS,SAACC,GAAD,CAAS,CAChB,MAAI,CAACL,QAAL,CAAc,CACZZ,WAAW,CAAE,IADD,CAEZE,OAAO,CAAE,KAFG,CAAd,EAIAgB,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAxBD,EAyBD,C,4BAED,sBAAaG,KAAb,CAAoB,CAClBA,KAAK,CAACC,cAAN,GACA,KAAKT,QAAL,CAAc,CACZV,OAAO,CAAE,IADG,CAAd,EAGA,KAAKI,SAAL,GACD,C,4BAED,sBAAac,KAAb,CAAoB,oBAClB,KAAKR,QAAL,mDACGQ,KAAK,CAACE,MAAN,CAAavB,IADhB,CACuBqB,KAAK,CAACE,MAAN,CAAaC,KADpC,6CAEa,KAFb,+CAGe,KAHf,mBAKD,C,sBAED,iBAAS,CACP,GAAI,KAAKzB,KAAL,CAAWI,OAAf,CAAwB,CACtB,mBACE,YAAK,SAAS,CAAC,QAAf,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,UAAb,CAAwB,KAAK,CAAC,SAA9B,CAAwC,MAAM,CAAE,EAAhD,CAAoD,KAAK,CAAE,EAA3D,EADF,EADF,CAKD,CAND,IAMO,CACL,mBACE,cAAM,QAAQ,CAAE,KAAKC,YAArB,WACG,KAAKL,KAAL,CAAWG,SAAX,cAAuB,0BAAK,KAAKH,KAAL,CAAWC,IAAhB,yDAAvB,CAAqG,IADxG,CAEG,KAAKD,KAAL,CAAWE,WAAX,cAAyB,mEAAzB,CAA+E,IAFlF,cAGE,cAAO,WAAW,CAAC,MAAnB,CAA0B,IAAI,CAAC,MAA/B,CAAsC,IAAI,CAAC,MAA3C,CAAkD,KAAK,CAAE,KAAKF,KAAL,CAAWC,IAApE,CAA0E,QAAQ,CAAE,KAAKM,YAAzF,EAHF,cAIE,eAAQ,SAAS,CAAC,cAAlB,CAAiC,IAAI,CAAC,QAAtC,CAA+C,KAAK,CAAC,QAArD,kBAJF,GADF,CAQD,CACF,C,wBA5EsBb,KAAK,CAACgC,S,EA+E/B,cAAe5B,CAAAA,UAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Loader from \"react-loader-spinner\";\nimport { API } from '../../constants';\n\nclass SignInForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      serverError: false,\n      nameError: false,\n      loading: false\n    };\n\n    this.handelSubmit = this.handelSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.checkAuth = this.checkAuth.bind(this);\n  }\n\n  checkAuth() {\n    axios({\n      method: 'POST',\n      baseURL: API + 'signin',\n      data: {\n        name: this.state.name\n      }\n    }).then((data) => {\n      if (data.status === 203) {\n        this.setState({\n          nameError: true,\n          loading: false\n        })\n      } else {\n        this.setState({\n          loading: false\n        })\n        this.props.logIn(data.headers.authorization, this.state.name, data.data);\n      }\n    }).catch((err) => {\n      this.setState({\n        serverError: true,\n        loading: false\n      })\n      console.log(err);\n    });\n  }\n\n  handelSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      loading: true\n    })\n    this.checkAuth();\n  };\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value,\n      nameError: false,\n      serverError: false\n    })\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"loader\">\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n        </div>\n      )\n    } else {\n      return (\n        <form onSubmit={this.handelSubmit}>\n          {this.state.nameError ? <p>\"{this.state.name}\" does not match list of invites, Please try again</p> : null}\n          {this.state.serverError ? <p>Server may be down!! Please try again later.</p> : null}\n          <input placeholder=\"name\" name=\"name\" type=\"text\" value={this.state.name} onChange={this.handleChange} />\n          <button className=\"signInButton\" type=\"submit\" value=\"submit\">Join</button>\n        </form>\n      );\n    }\n  }\n}\n\nexport default SignInForm;\n"]},"metadata":{},"sourceType":"module"}