{"ast":null,"code":"import _defineProperty from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Loader from\"react-loader-spinner\";import axios from'axios';import{API}from'../../constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RSVPform=/*#__PURE__*/function(_React$Component){_inherits(RSVPform,_React$Component);var _super=_createSuper(RSVPform);function RSVPform(props){var _this;_classCallCheck(this,RSVPform);_this=_super.call(this,props);_this.state={name:props.name,email:props.email,response:props.response,text:'',loading:false};_this.handelSubmit=_this.handelSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.checkAuth=_this.checkAuth.bind(_assertThisInitialized(_this));return _this;}_createClass(RSVPform,[{key:\"checkAuth\",value:function checkAuth(){var _this2=this;axios({method:'POST',baseURL:API+'rsvp',data:{name:this.state.name,email:this.state.email,response:this.state.response,text:this.state.text}}).then(function(){_this2.setState({loading:false});_this2.props.rsvp(_this2.state.email,_this2.state.name,_this2.state.response);}).catch(function(err){_this2.setState({serverError:true,loading:false});console.log(err);});}},{key:\"handelSubmit\",value:function handelSubmit(event){event.preventDefault();this.setState({loading:true});this.checkAuth();}},{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"render\",value:function render(){if(this.state.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:/*#__PURE__*/_jsx(Loader,{type:\"TailSpin\",color:\"#00BFFF\",height:80,width:80})});}else{return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handelSubmit,children:[this.state.serverError?/*#__PURE__*/_jsx(\"p\",{children:\"Server may be down!! Please try again later.\"}):null,/*#__PURE__*/_jsx(\"input\",{className:\"name\",name:\"name\",type:\"text\",value:this.state.name,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"input\",{className:\"email\",placeholder:\"email\",name:\"email\",type:\"email\",value:this.state.email,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"label\",{className:\"question\",for:\"attending\",children:\"Will you be attending?\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"response\",className:\"response\",name:\"response\",value:this.state.response,onChange:this.handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"maybe\",children:\"Maybe\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"No\"})]}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Any questions?\",name:\"text\",value:this.state.text,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"rsvpButton\",type:\"submit\",value:\"submit\",children:\"RSVP\"})]});}}}]);return RSVPform;}(React.Component);export default RSVPform;","map":{"version":3,"sources":["/home/paul/Repos/WedSite/wedsite/src/components/Main/RsvpForm.js"],"names":["React","Loader","axios","API","RSVPform","props","state","name","email","response","text","loading","handelSubmit","bind","handleChange","checkAuth","method","baseURL","data","then","setState","rsvp","catch","err","serverError","console","log","event","preventDefault","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Loader from \"react-loader-spinner\";\nimport axios from 'axios';\nimport { API } from '../../constants';\n\nclass RSVPform extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: props.name,\n      email: props.email,\n      response: props.response,\n      text: '',\n      loading: false\n    }\n    this.handelSubmit = this.handelSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.checkAuth = this.checkAuth.bind(this);\n  }\n\n  checkAuth() {\n    axios({\n      method: 'POST',\n      baseURL: API + 'rsvp',\n      data: {\n        name: this.state.name,\n        email: this.state.email,\n        response: this.state.response,\n        text: this.state.text\n      }\n    }).then(() => {\n      this.setState({\n        loading: false\n      })\n      this.props.rsvp(this.state.email, this.state.name, this.state.response);\n    }).catch((err) => {\n      this.setState({\n        serverError: true,\n        loading: false\n      })\n      console.log(err);\n    });\n\n  }\n\n  handelSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      loading: true\n    })\n    this.checkAuth();\n  };\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"loader\">\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n        </div>\n      )\n    } else {\n      return (\n        <form onSubmit={this.handelSubmit}>\n          {this.state.serverError ? <p>Server may be down!! Please try again later.</p> : null}\n          <input className=\"name\" name=\"name\" type=\"text\" value={this.state.name} onChange={this.handleChange} />\n          <input className=\"email\" placeholder=\"email\" name=\"email\" type=\"email\" value={this.state.email} onChange={this.handleChange} />\n          <label className=\"question\" for=\"attending\">Will you be attending?</label>\n          <select id=\"response\" className=\"response\" name=\"response\" value={this.state.response} onChange={this.handleChange}>\n            <option value=\"maybe\">Maybe</option>\n            <option value=\"yes\">Yes</option>\n            <option value=\"no\">No</option>\n          </select>\n          <textarea placeholder=\"Any questions?\" name=\"text\" value={this.state.text} onChange={this.handleChange} />\n          <button className=\"rsvpButton\" type=\"submit\" value=\"submit\">RSVP</button>\n        </form >\n      );\n    }\n  }\n}\n\nexport default RSVPform;\n"]},"metadata":{},"sourceType":"module"}