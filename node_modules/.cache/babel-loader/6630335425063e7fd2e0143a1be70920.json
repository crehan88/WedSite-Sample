{"ast":null,"code":"import _slicedToArray from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Rsvp}from'../../../Data/Database';import{Formik,Field,Form}from'formik';import{Button}from'../../Common/Static';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function RSVPform(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),serverError=_useState2[0],setServerError=_useState2[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"RSVP\"}),/*#__PURE__*/_jsx(Formik,{enableReinitialize:true,initialValues:{email:props.email,response:props.response},validate:function validate(values){var errors={};if(!values.email&&values.response==='yes'){errors.email='Email Required';}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)&&values.response==='yes'){errors.email='Invalid email address';}return errors;},onSubmit:function onSubmit(values){Rsvp({name:props.name,email:values.email,response:values.response},props.auth).then(function(data){props.setResponse(values.response);props.setEmail(values.email);props.toggleForm();}).catch(function(err){console.log(err);setServerError(true);});},children:function children(_ref){var errors=_ref.errors,isSubmitting=_ref.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[serverError?/*#__PURE__*/_jsx(\"p\",{children:\"Server may be down!! Please try again later.\"}):null,errors.email?/*#__PURE__*/_jsx(\"p\",{children:errors.email}):null,/*#__PURE__*/_jsx(Field,{type:\"email\",name:\"email\",className:\"email\",placeholder:\"email\"}),/*#__PURE__*/_jsx(\"label\",{className:\"question\",children:\"Will you be attending?\"}),/*#__PURE__*/_jsxs(Field,{className:\"response\",as:\"select\",name:\"response\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"maybe\",children:\"Maybe\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"No\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",text:\"RSVP\",disabled:isSubmitting})]});}})]});}","map":{"version":3,"sources":["/home/paul/Repos/WedSite/wedsite/src/Layout/Main/Rsvp/RsvpForm.js"],"names":["React","useState","Rsvp","Formik","Field","Form","Button","RSVPform","props","serverError","setServerError","email","response","values","errors","test","name","auth","then","data","setResponse","setEmail","toggleForm","catch","err","console","log","isSubmitting"],"mappings":"mHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,wBAArB,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,IAAxB,KAAoC,QAApC,CACA,OAASC,MAAT,KAAuB,qBAAvB,C,6IAEA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACtC,cAAsCP,QAAQ,CAAC,KAAD,CAA9C,wCAAOQ,WAAP,eAAoBC,cAApB,eAEA,mBACE,wCACE,4BADF,cAEE,KAAC,MAAD,EACE,kBAAkB,CAAE,IADtB,CAEE,aAAa,CAAE,CACbC,KAAK,CAAEH,KAAK,CAACG,KADA,CAEbC,QAAQ,CAAEJ,KAAK,CAACI,QAFH,CAFjB,CAME,QAAQ,CAAE,kBAACC,MAAD,CAAY,CACpB,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACA,GAAI,CAACD,MAAM,CAACF,KAAR,EAAiBE,MAAM,CAACD,QAAP,GAAoB,KAAzC,CAAgD,CAC9CE,MAAM,CAACH,KAAP,CAAe,gBAAf,CACD,CAFD,IAEO,IACL,CAAC,2CAA2CI,IAA3C,CAAgDF,MAAM,CAACF,KAAvD,CAAD,EACAE,MAAM,CAACD,QAAP,GAAoB,KAFf,CAGL,CACAE,MAAM,CAACH,KAAP,CAAe,uBAAf,CACD,CACD,MAAOG,CAAAA,MAAP,CACD,CAjBH,CAkBE,QAAQ,CAAE,kBAACD,MAAD,CAAY,CACpBX,IAAI,CACF,CACEc,IAAI,CAAER,KAAK,CAACQ,IADd,CAEEL,KAAK,CAAEE,MAAM,CAACF,KAFhB,CAGEC,QAAQ,CAAEC,MAAM,CAACD,QAHnB,CADE,CAMFJ,KAAK,CAACS,IANJ,CAAJ,CAQGC,IARH,CAQQ,SAACC,IAAD,CAAU,CACdX,KAAK,CAACY,WAAN,CAAkBP,MAAM,CAACD,QAAzB,EACAJ,KAAK,CAACa,QAAN,CAAeR,MAAM,CAACF,KAAtB,EACAH,KAAK,CAACc,UAAN,GACD,CAZH,EAaGC,KAbH,CAaS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAd,cAAc,CAAC,IAAD,CAAd,CACD,CAhBH,EAiBD,CApCH,UAsCG,2BAAGI,CAAAA,MAAH,MAAGA,MAAH,CAAWa,YAAX,MAAWA,YAAX,oBACC,MAAC,IAAD,YACGlB,WAAW,cACV,mEADU,CAER,IAHN,CAIGK,MAAM,CAACH,KAAP,cAAe,mBAAIG,MAAM,CAACH,KAAX,EAAf,CAAuC,IAJ1C,cAKE,KAAC,KAAD,EACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,SAAS,CAAC,OAHZ,CAIE,WAAW,CAAC,OAJd,EALF,cAWE,cAAO,SAAS,CAAC,UAAjB,oCAXF,cAYE,MAAC,KAAD,EAAO,SAAS,CAAC,UAAjB,CAA4B,EAAE,CAAC,QAA/B,CAAwC,IAAI,CAAC,UAA7C,wBACE,eAAQ,KAAK,CAAC,OAAd,mBADF,cAEE,eAAQ,KAAK,CAAC,KAAd,iBAFF,cAGE,eAAQ,KAAK,CAAC,IAAd,gBAHF,GAZF,cAiBE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,MAA3B,CAAkC,QAAQ,CAAEgB,YAA5C,EAjBF,GADD,EAtCH,EAFF,GADF,CAiED","sourcesContent":["import React, { useState } from 'react'\nimport { Rsvp } from '../../../Data/Database'\nimport { Formik, Field, Form } from 'formik'\nimport { Button } from '../../Common/Static'\n\nexport default function RSVPform(props) {\n  const [serverError, setServerError] = useState(false)\n\n  return ( \n    <>\n      <h2>RSVP</h2>\n      <Formik\n        enableReinitialize={true}\n        initialValues={{\n          email: props.email,\n          response: props.response,\n        }}\n        validate={(values) => {\n          const errors = {}\n          if (!values.email && values.response === 'yes') {\n            errors.email = 'Email Required'\n          } else if (\n            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email) &&\n            values.response === 'yes'\n          ) {\n            errors.email = 'Invalid email address'\n          }\n          return errors\n        }}\n        onSubmit={(values) => {\n          Rsvp(\n            {\n              name: props.name,\n              email: values.email,\n              response: values.response,\n            },\n            props.auth\n          )\n            .then((data) => {\n              props.setResponse(values.response)\n              props.setEmail(values.email)\n              props.toggleForm()\n            })\n            .catch((err) => {\n              console.log(err)\n              setServerError(true)\n            })\n        }}\n      >\n        {({ errors, isSubmitting }) => (\n          <Form>\n            {serverError ? (\n              <p>Server may be down!! Please try again later.</p>\n            ) : null}\n            {errors.email ? <p>{errors.email}</p> : null}\n            <Field\n              type='email'\n              name='email'\n              className='email'\n              placeholder='email'\n            />\n            <label className='question'>Will you be attending?</label>\n            <Field className='response' as='select' name='response'>\n              <option value='maybe'>Maybe</option>\n              <option value='yes'>Yes</option>\n              <option value='no'>No</option>\n            </Field>\n            <Button type='submit' text='RSVP' disabled={isSubmitting} />\n          </Form>\n        )}\n      </Formik>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}