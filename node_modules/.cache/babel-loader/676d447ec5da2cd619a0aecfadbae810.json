{"ast":null,"code":"var _jsxFileName = \"/home/paul/Repos/WedSite/wedsite/src/components/SignIn/SignInForm.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Loader from \"react-loader-spinner\";\nimport { API } from '../../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SignInForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      serverError: false,\n      nameError: false,\n      loading: false\n    };\n    this.handelSubmit = this.handelSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.checkAuth = this.checkAuth.bind(this);\n  }\n\n  checkAuth() {\n    axios({\n      method: 'POST',\n      baseURL: API + 'signin',\n      data: {\n        name: this.state.name\n      }\n    }).then(data => {\n      console.log(data);\n\n      if (data.status === 203) {\n        this.setState({\n          nameError: true,\n          loading: false\n        });\n      } else {\n        this.setState({\n          loading: false\n        });\n        this.props.logIn(data.headers.authorization, this.state.name, data.data);\n      }\n    }).catch(err => {\n      this.setState({\n        serverError: true,\n        loading: false\n      });\n      console.log(err);\n    });\n  }\n\n  handelSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      loading: true\n    });\n    this.checkAuth();\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value,\n      nameError: false,\n      serverError: false\n    });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          type: \"TailSpin\",\n          color: \"#00BFFF\",\n          height: 80,\n          width: 80\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handelSubmit,\n        children: [this.state.nameError ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\\"\", this.state.name, \"\\\" does not match list of invites, Please try again\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 35\n        }, this) : null, this.state.serverError ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Server may be down!! Please try again later.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 37\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"name\",\n          name: \"name\",\n          type: \"text\",\n          value: this.state.name,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"signInButton\",\n          type: \"submit\",\n          value: \"submit\",\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default SignInForm;","map":{"version":3,"sources":["/home/paul/Repos/WedSite/wedsite/src/components/SignIn/SignInForm.js"],"names":["React","axios","Loader","API","SignInForm","Component","constructor","props","state","name","serverError","nameError","loading","handelSubmit","bind","handleChange","checkAuth","method","baseURL","data","then","console","log","status","setState","logIn","headers","authorization","catch","err","event","preventDefault","target","value","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,GAAT,QAAoB,iBAApB;;;AAEA,MAAMC,UAAN,SAAyBJ,KAAK,CAACK,SAA/B,CAAyC;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,WAAW,EAAE,KAFF;AAGXC,MAAAA,SAAS,EAAE,KAHA;AAIXC,MAAAA,OAAO,EAAE;AAJE,KAAb;AAOA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,SAAL,GAAiB,KAAKA,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAAjB;AACD;;AAEDE,EAAAA,SAAS,GAAG;AACVf,IAAAA,KAAK,CAAC;AACJgB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,OAAO,EAAEf,GAAG,GAAG,QAFX;AAGJgB,MAAAA,IAAI,EAAE;AACJV,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC;AADb;AAHF,KAAD,CAAL,CAMGW,IANH,CAMSD,IAAD,IAAU;AAChBE,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACA,UAAIA,IAAI,CAACI,MAAL,KAAgB,GAApB,EAAyB;AACvB,aAAKC,QAAL,CAAc;AACZb,UAAAA,SAAS,EAAE,IADC;AAEZC,UAAAA,OAAO,EAAE;AAFG,SAAd;AAID,OALD,MAKO;AACL,aAAKY,QAAL,CAAc;AACZZ,UAAAA,OAAO,EAAE;AADG,SAAd;AAGA,aAAKL,KAAL,CAAWkB,KAAX,CAAiBN,IAAI,CAACO,OAAL,CAAaC,aAA9B,EAA6C,KAAKnB,KAAL,CAAWC,IAAxD,EAA8DU,IAAI,CAACA,IAAnE;AACD;AACF,KAnBD,EAmBGS,KAnBH,CAmBUC,GAAD,IAAS;AAChB,WAAKL,QAAL,CAAc;AACZd,QAAAA,WAAW,EAAE,IADD;AAEZE,QAAAA,OAAO,EAAE;AAFG,OAAd;AAIAS,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACD,KAzBD;AA0BD;;AAEDhB,EAAAA,YAAY,CAACiB,KAAD,EAAQ;AAClBA,IAAAA,KAAK,CAACC,cAAN;AACA,SAAKP,QAAL,CAAc;AACZZ,MAAAA,OAAO,EAAE;AADG,KAAd;AAGA,SAAKI,SAAL;AACD;;AAEDD,EAAAA,YAAY,CAACe,KAAD,EAAQ;AAClB,SAAKN,QAAL,CAAc;AACZ,OAACM,KAAK,CAACE,MAAN,CAAavB,IAAd,GAAqBqB,KAAK,CAACE,MAAN,CAAaC,KADtB;AAEZtB,MAAAA,SAAS,EAAE,KAFC;AAGZD,MAAAA,WAAW,EAAE;AAHD,KAAd;AAKD;;AAEDwB,EAAAA,MAAM,GAAG;AACP,QAAI,KAAK1B,KAAL,CAAWI,OAAf,EAAwB;AACtB,0BACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,+BACE,QAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,UAAb;AAAwB,UAAA,KAAK,EAAC,SAA9B;AAAwC,UAAA,MAAM,EAAE,EAAhD;AAAoD,UAAA,KAAK,EAAE;AAA3D;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAKD,KAND,MAMO;AACL,0BACE;AAAM,QAAA,QAAQ,EAAE,KAAKC,YAArB;AAAA,mBACG,KAAKL,KAAL,CAAWG,SAAX,gBAAuB;AAAA,2BAAK,KAAKH,KAAL,CAAWC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAvB,GAAqG,IADxG,EAEG,KAAKD,KAAL,CAAWE,WAAX,gBAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAzB,GAA+E,IAFlF,eAGE;AAAO,UAAA,WAAW,EAAC,MAAnB;AAA0B,UAAA,IAAI,EAAC,MAA/B;AAAsC,UAAA,IAAI,EAAC,MAA3C;AAAkD,UAAA,KAAK,EAAE,KAAKF,KAAL,CAAWC,IAApE;AAA0E,UAAA,QAAQ,EAAE,KAAKM;AAAzF;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAQ,UAAA,SAAS,EAAC,cAAlB;AAAiC,UAAA,IAAI,EAAC,QAAtC;AAA+C,UAAA,KAAK,EAAC,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAQD;AACF;;AA7EsC;;AAgFzC,eAAeX,UAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Loader from \"react-loader-spinner\";\nimport { API } from '../../constants';\n\nclass SignInForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      serverError: false,\n      nameError: false,\n      loading: false\n    };\n\n    this.handelSubmit = this.handelSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.checkAuth = this.checkAuth.bind(this);\n  }\n\n  checkAuth() {\n    axios({\n      method: 'POST',\n      baseURL: API + 'signin',\n      data: {\n        name: this.state.name\n      }\n    }).then((data) => {\n      console.log(data);\n      if (data.status === 203) {\n        this.setState({\n          nameError: true,\n          loading: false\n        })\n      } else {\n        this.setState({\n          loading: false\n        })\n        this.props.logIn(data.headers.authorization, this.state.name, data.data);\n      }\n    }).catch((err) => {\n      this.setState({\n        serverError: true,\n        loading: false\n      })\n      console.log(err);\n    });\n  }\n\n  handelSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      loading: true\n    })\n    this.checkAuth();\n  };\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value,\n      nameError: false,\n      serverError: false\n    })\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"loader\">\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n        </div>\n      )\n    } else {\n      return (\n        <form onSubmit={this.handelSubmit}>\n          {this.state.nameError ? <p>\"{this.state.name}\" does not match list of invites, Please try again</p> : null}\n          {this.state.serverError ? <p>Server may be down!! Please try again later.</p> : null}\n          <input placeholder=\"name\" name=\"name\" type=\"text\" value={this.state.name} onChange={this.handleChange} />\n          <button className=\"signInButton\" type=\"submit\" value=\"submit\">Join</button>\n        </form>\n      );\n    }\n  }\n}\n\nexport default SignInForm;\n"]},"metadata":{},"sourceType":"module"}