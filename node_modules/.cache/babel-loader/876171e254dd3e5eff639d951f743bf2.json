{"ast":null,"code":"var _jsxFileName = \"/home/paul/Repos/WedSite/wedsite/src/components/SignIn/SignInForm.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Loader from \"react-loader-spinner\";\nimport { API } from '../../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SignInForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      password: '',\n      serverError: false,\n      nameError: false,\n      loading: false\n    };\n    this.handelSubmit = this.handelSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.checkAuth = this.checkAuth.bind(this);\n  }\n\n  checkAuth() {\n    axios({\n      method: 'POST',\n      baseURL: API + 'signin',\n      data: {\n        name: this.state.name,\n        password: this.state.password\n      }\n    }).then(data => {\n      if (data.status === 203) {\n        this.setState({\n          nameError: true,\n          loading: false\n        });\n      } else {\n        this.setState({\n          loading: false\n        });\n        this.props.logIn(data.headers.authorization, this.state.name, data.data);\n      }\n    }).catch(err => {\n      this.setState({\n        serverError: true,\n        loading: false\n      });\n      console.log(err);\n    });\n  }\n\n  handelSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      loading: true\n    });\n    this.checkAuth();\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value,\n      nameError: false,\n      serverError: false\n    });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          type: \"TailSpin\",\n          color: \"#00BFFF\",\n          height: 80,\n          width: 80\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handelSubmit,\n        children: [this.state.nameError ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\\"\", this.state.name, \"\\\" does not match list of invites, Please try again\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 35\n        }, this) : null, this.state.serverError ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Server may be down!! Please try again later.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 37\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"name\",\n          name: \"name\",\n          type: \"text\",\n          value: this.state.name,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), this.state.name === \"admin\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"password\",\n          name: \"password\",\n          type: \"text\",\n          value: this.state.password,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 42\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"signInButton\",\n          type: \"submit\",\n          value: \"submit\",\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default SignInForm;","map":{"version":3,"sources":["/home/paul/Repos/WedSite/wedsite/src/components/SignIn/SignInForm.js"],"names":["React","axios","Loader","API","SignInForm","Component","constructor","props","state","name","password","serverError","nameError","loading","handelSubmit","bind","handleChange","checkAuth","method","baseURL","data","then","status","setState","logIn","headers","authorization","catch","err","console","log","event","preventDefault","target","value","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Loader from \"react-loader-spinner\";\nimport { API } from '../../constants';\n\nclass SignInForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      password: '',\n      serverError: false,\n      nameError: false,\n      loading: false\n    };\n\n    this.handelSubmit = this.handelSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.checkAuth = this.checkAuth.bind(this);\n  }\n\n  checkAuth() {\n    axios({\n      method: 'POST',\n      baseURL: API + 'signin',\n      data: {\n        name: this.state.name,\n        password: this.state.password\n      }\n    }).then((data) => {\n      if (data.status === 203) {\n        this.setState({\n          nameError: true,\n          loading: false\n        })\n      } else {\n        this.setState({\n          loading: false\n        })\n        this.props.logIn(data.headers.authorization, this.state.name, data.data);\n      }\n    }).catch((err) => {\n      this.setState({\n        serverError: true,\n        loading: false\n      })\n      console.log(err);\n    });\n  }\n\n  handelSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      loading: true\n    })\n    this.checkAuth();\n  };\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value,\n      nameError: false,\n      serverError: false\n    })\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"loader\">\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n        </div>\n      )\n    } else {\n      return (\n        <form onSubmit={this.handelSubmit}>\n          {this.state.nameError ? <p>\"{this.state.name}\" does not match list of invites, Please try again</p> : null}\n          {this.state.serverError ? <p>Server may be down!! Please try again later.</p> : null}\n          <input placeholder=\"name\"\n            name=\"name\"\n            type=\"text\"\n            value={this.state.name}\n            onChange={this.handleChange} />\n          {this.state.name === \"admin\" ? <input placeholder=\"password\"\n            name=\"password\" type=\"text\"\n            value={this.state.password}\n            onChange={this.handleChange} /> : null}\n          <button className=\"signInButton\" type=\"submit\" value=\"submit\">Join</button>\n        </form>\n      );\n    }\n  }\n}\n\nexport default SignInForm;\n"]},"metadata":{},"sourceType":"module"}