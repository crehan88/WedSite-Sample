{"ast":null,"code":"import _defineProperty from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/paul/Repos/WedSite/wedsite/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Loader from\"react-loader-spinner\";import{API}from'../constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignInForm=/*#__PURE__*/function(_React$Component){_inherits(SignInForm,_React$Component);var _super=_createSuper(SignInForm);function SignInForm(props){var _this;_classCallCheck(this,SignInForm);_this=_super.call(this,props);_this.state={name:'',serverError:false,nameError:false,loading:false};_this.handelSubmit=_this.handelSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.checkAuth=_this.checkAuth.bind(_assertThisInitialized(_this));return _this;}_createClass(SignInForm,[{key:\"checkAuth\",value:function checkAuth(){var _this2=this;axios({method:'POST',baseURL:API+'signin',data:{name:this.state.name}}).then(function(data){console.log(data);if(data.status===203){_this2.setState({nameError:true,loading:false});}else{_this2.setState({loading:false});_this2.props.logIn(data.headers.authorization,_this2.state.name);}}).catch(function(err){_this2.setState({serverError:true,loading:false});console.log(err);});}},{key:\"handelSubmit\",value:function handelSubmit(event){event.preventDefault();this.setState({loading:true});this.checkAuth();}},{key:\"handleChange\",value:function handleChange(event){var _this$setState;this.setState((_this$setState={},_defineProperty(_this$setState,event.target.name,event.target.value),_defineProperty(_this$setState,\"nameError\",false),_defineProperty(_this$setState,\"serverError\",false),_this$setState));}},{key:\"render\",value:function render(){if(this.state.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:/*#__PURE__*/_jsx(Loader,{type:\"TailSpin\",color:\"#00BFFF\",height:80,width:80})});}else{return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handelSubmit,children:[this.state.nameError?/*#__PURE__*/_jsxs(\"p\",{children:[this.state.name,\" does not match list of invites, Please try again\"]}):null,this.state.seagainrverError?/*#__PURE__*/_jsx(\"p\",{children:\"Server may be down!! Please try again later.\"}):null,/*#__PURE__*/_jsx(\"input\",{placeholder:\"name\",name:\"name\",type:\"text\",value:this.state.name,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"signInButton\",type:\"submit\",value:\"submit\",children:\"Join\"})]});}}}]);return SignInForm;}(React.Component);export default SignInForm;","map":{"version":3,"sources":["/home/paul/Repos/WedSite/wedsite/src/SignIn/signInForm.js"],"names":["React","axios","Loader","API","SignInForm","props","state","name","serverError","nameError","loading","handelSubmit","bind","handleChange","checkAuth","method","baseURL","data","then","console","log","status","setState","logIn","headers","authorization","catch","err","event","preventDefault","target","value","seagainrverError","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Loader from \"react-loader-spinner\";\nimport { API } from '../constants';\n\nclass SignInForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: '',\n            serverError: false,\n            nameError: false,\n            loading: false\n        };\n\n        this.handelSubmit = this.handelSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.checkAuth = this.checkAuth.bind(this);\n    }\n\n    checkAuth() {\n        axios({\n            method: 'POST',\n            baseURL: API + 'signin',\n            data: {\n                name: this.state.name\n            }\n        }).then((data) => {\n            console.log(data);\n            if (data.status === 203) {\n                this.setState({\n                    nameError: true,\n                    loading: false\n                })\n            } else {\n                this.setState({\n                    loading: false\n                })\n                this.props.logIn(data.headers.authorization, this.state.name);\n            }\n        }).catch((err) => {\n            this.setState({\n                serverError: true,\n                loading: false\n            })\n            console.log(err);\n        });\n    }\n\n    handelSubmit(event) {\n        event.preventDefault();\n        this.setState({\n            loading: true\n        })\n        this.checkAuth();\n    };\n\n    handleChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n            nameError: false,\n            serverError: false\n        })\n    }\n\n    render() {\n        if (this.state.loading) {\n            return (\n                <div className=\"loader\">\n                    <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n                </div>\n            )\n        } else {\n            return (\n                <form onSubmit={this.handelSubmit}>\n                    {this.state.nameError ? <p>{this.state.name} does not match list of invites, Please try again</p> : null}\n                    {this.state.seagainrverError ? <p>Server may be down!! Please try again later.</p> : null}\n                    <input placeholder=\"name\" name=\"name\" type=\"text\" value={this.state.name} onChange={this.handleChange} />\n                    <button className=\"signInButton\" type=\"submit\" value=\"submit\">Join</button>\n                </form>\n            );\n        }\n    }\n}\n\nexport default SignInForm;\n"]},"metadata":{},"sourceType":"module"}